# 多列URL图片审核功能更新

## 新功能说明

现在支持CSV文件中包含多个图片URL列，所有包含"url"或"图片"的列都会被识别并并排展示。

## 主要更新

### 1. 多列URL自动识别
系统会自动检测所有包含URL的列（列名包含"url"、"图片"、"image"、"封面"等关键字）。

**示例CSV**：
```csv
albumid,封面图url,扩图后url,无字底图url
123456,http://example.com/original.jpg,http://example.com/outpaint.jpg,http://example.com/notext.jpg
```

这个CSV会识别出3个URL列：
- 封面图url
- 扩图后url  
- 无字底图url

### 2. 并排展示
当检测到多个URL列时：
- 每行显示一条记录
- 该记录的所有图片并排展示
- 每个图片都有独立的：
  - 左上角勾选框
  - 列名标签（显示在图片下方）
  - 通过/不通过按钮

**布局示例**：
```
┌─────────────────────────────────────────────────────────┐
│ [ ] 图片1        [ ] 图片2        [ ] 图片3            │
│  封面图url        扩图后url        无字底图url          │
│ [通过][不通过]   [通过][不通过]   [通过][不通过]        │
├─────────────────────────────────────────────────────────┤
│ albumid: 123456                                         │
│ 其他字段信息...                                         │
└─────────────────────────────────────────────────────────┘
```

### 3. 独立审核
- 每个图片可以独立审核（通过/不通过）
- 每个图片的勾选框独立控制
- 审核状态显示在图片右上角

### 4. 全选功能
点击"全选本页所有图片"按钮，会勾选当前页面所有图片的所有勾选框。

### 5. 导出规则
导出CSV时，在每个包含URL的列后面添加审核结果列：

**输入CSV**：
```csv
albumid,封面图url,扩图后url,无字底图url
123456,url1,url2,url3
```

**导出CSV**：
```csv
albumid,封面图url,封面图url_审核结果,扩图后url,扩图后url_审核结果,无字底图url,无字底图url_审核结果
123456,url1,通过,url2,不通过,url3,通过
```

**审核结果判定**：
- **勾选框已勾选** → 通过
- **勾选框未勾选** → 不通过

### 6. 单列URL模式
当只有一个URL列时，保持原有的卡片式布局，功能不变。

## 使用流程

1. **导入CSV**：上传包含多个URL列的CSV文件
2. **自动识别**：系统自动识别所有URL列
3. **并排展示**：每行显示该记录的所有图片
4. **独立审核**：
   - 点击"通过"→ 自动勾选该图片
   - 点击"不通过"→ 自动取消勾选
   - 手动勾选/取消勾选
5. **全选**：点击"全选本页所有图片"勾选当前页所有图片
6. **导出**：点击"导出审核结果"，生成带审核结果的CSV

## 测试文件

已创建测试文件 `test-multi-urls.csv`，包含3列URL用于测试。

## 注意事项

1. **列名要求**：URL列的列名必须包含"url"、"图片"、"image"或"封面"等关键字
2. **URL格式**：URL必须以 `http://` 或 `https://` 开头
3. **性能考虑**：建议每个记录的URL列不超过5个，否则可能影响加载速度
4. **导出逻辑**：未勾选的图片审核结果为"不通过"

---

**版本**：v2.0 - 多列URL支持  
**更新时间**：2026-01-17
